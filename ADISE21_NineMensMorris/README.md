# ADISE21_NineMensMorris
Η ομάδα υπέυθυνη για την υλοποίηση του board game "Nine Men's Morris"

- Παπαδόπουλος Κωνσταντίνος 164821
- Τσερετέλι Γκιοργκι 164840
- Στρίκου Αθηνά 175134

# Γλώσσες που χρησιμοποίηθηκαν
- Javascript 89.8%
- PHP 8.5%
- HTML 1.1%
- CSS 0.6%

# Περιγραφή του project
Στην κύρια σελίδα διακρίνεται το game board, ένα text box στο οποίο ο χρήστης μπορεί να δηλώσει το Username και το χρώμα πιονιού(Black ή White) της αρεσκείας του, δημιουργώντας έτσι δικό του account, και μπαίνει στο παιχνίδι. Αφού εισαχθεί το Username και του δεύτερου παίκτη, τότε το παιχνίδι μπορεί να ξεκινήσει. Σε αρχικό στάδιο εμφανίζεται στον πρώτο παίκτη ένα μήνυμα ότι είναι η σειρά του. Αφού σκεφτεί την κίνηση του, δηλώνει την κίνηση (x1 y1 color) που θέλει να πραγματοποιήσει. Έπειτα εμφανίζεται μήνυμα στον δεύτερο παίκτη για να τον ενημερώσει ότι είναι η σειρά του. Το παιχνίδι συνεχίζεται με αυτό τον τρόπο μέχρι κάποιος παίκτης να καταλήξει με λιγότερο από τρία πιόνια πάνω στο board. Κάτι που επίσης εμφανίζεται στη σελίδα είναι ένα text που δείχνει τα στοιχεία που δήλωσε ο παίκτης, Username, το token και τέλος το Game state. Καθόλη τη διάρκεια του παιχνιδιού, εμφανίζεται στο κάτω μέρος της σελίδας ένα κείμενο που παρέχει τις οδηγίες(How to play). 

# Σελίδα του game
https://users.it.teithe.gr/~it164840/ADISE21_NineMensMorris

# Δημιουργία της βάσης δεδομένων
Στο αρχειο nmm.sql, στην βάση με όνομα nmm, έγινε η δημιουργία των εξής πινάκων:

Ο Πίνακας board περιεχέι X, Y, piece_color και το Bcolor. Έτσι δηλώνονται ποια και πόσα στοιχεία θα υπάρξουν στο game board. 

- Πινακας board
 
Ο πίνακας boardempty που περιέχει X, Y, piece_color, Bcolor. 

- Πινακας boardempty

Επίσης έχουμε τον πίνακα game_status στον οποίο είναι αποθηκευμένα τα status, p_turn, result, last_change. Ό,τι έχει άμεση σύνδεση με την κατάσταση του παιχνιδιού και θα χρειαστεί.

- Πινακας game_status

Ο πίνακας players περιέχει username, token, last_action, piece_color, playerNumber, counterNumber. Ουσιαστικά σε αυτόν αποθηκεύονται τα στοιχεία που αφορούν τον παίκτη μέσα στο παιχνίδι.

- Πινακας players

Στο αρχείο config_local.php βρίσκεται αποθηκευμένο το username και password της βάσης nmm.
```sh
<?php 
$DB_USER='root';
$DB_PASS='';
?>
``` 
Με τα παραπάνω στοιχεία γίνεται η σύνδεση της απομακρυσμένης βάσης στο αρχείο dbconnect.php. Εάν δεν γίνει αντιστοίχηση των στοιχείων, τότε θα εμφανίσει ένα error. Με την χρήση της εντολής
```sh
if(gethostname()=='users.iee.ihu.gr') {
	$mysqli = new mysqli($host, $user, $pass, $db,null,'/home/student/it/2016/it164840/mysql/run/mysql.sock');  
``` 
γίνεται η σύνδεση της βάσης με αυτά τα στοιχεία. 

# Η δημιουργία του Game

Τα τρία βασικά αρχεία που απαρτίζουν την κύρια σελίδα είναι το index.html, ninemenmorris.js, ninemenmorris.css και το NineMenMorris.php 

- Το αρχείο index.html περιέχει την διεπαφή χρήστη, εμφανίζει τα buttons και text. Ο χρήστης που θέλει να παίξει δηλώνει το όνομα του στο κατάλληλο πλαίσιο. 

- Tο αρχείο ninemenmorris.css υλοποιεί την σχεδίαση του main board και των pieces.

- Το ninemenmorris.js περιέχει λειτουργίες όπως:
```sh
function fill_board_by_data(data, x, y) {...}
``` 
Με αυτό το function γεμίζει ο πίνακας με τα κατάλληλα στοιχεία/δεδομένα σε άμεση σύνδεση με τη βάση δεδομένων.

```sh
function game_status_update(){...}
``` 
Με το παραπάνω function πραγματοποιείται η ενημέρωση της κατάστασης στην οποία βρίσκεται ο παιχνίδι.
```sh
function do_premove() {...}
``` 
Με αυτή τη συνάρτηση σε περίπτωση που ο χρήστης κάνει κάποια κίνηση που δεν επιτρέπεται ή τοποθετήσει το πιόνι του σε θέση που υπάρχει ήδη άλλο πιόνι, τότε εμφανίζει κατάλληλα μηνύματα προειδοποίησης.
```sh
function do_move() {...}
``` 
Η συνάρτηση αυτή υλοποιεί την κίνηση του πιονιού μετά από επιλογή του χρήστη.
```sh
function win() {...}
``` 
Εφαρμόζει τι θα αλλάξει όταν κάποιος χρήστης κερδίσει το παιχνίδι. Θα κληθούν είναι οι μέθοδοι game_status_update(); και fill_board();

Οι κύριες υλοποιήσεις συναρτήσεων για το παιχνίδι βρίσκονται στο αρχείο NineMenMorris.php

- Η συναρτήσεις handle_winW($method) και handle_winΒ($method) υλοποιούν το τι θα γίνει όταν κάποιος παίκτης κερδίσει.

- Με την συνάρτηση handle_removepiece($method , $x, $y, $piece_color, $input) δίνεται η δυνατότητα στον παίκτη να 
αφαιρέσει ένα πιόνι του αντιπάλου.

- Με την handle_putpiece($method ,$x, $y,$piece_color,$input)
τοποθετείται το πιόνι στο game board.

- Με την function handle_board($method) εμφανίζεται το board αλλά και μετά μπορεί να κάνει reset.

- Με την function handle_piece($method, $x,$y,$input) υλοποιείται η λειτουργία του να τοποθετήσει παίκτης κάποιο πιόνι στο board.

- Με την function handle_player($method, $p,$input) υλοποιείται το τι θα γίνει σε άμεση σύνδεση με το status του παίκτη. Δηλαδή εάν ο παίκτης διαλέξει W ή B χρώμα πιονιού ή αν δεν διαλέξει κανένα χρώμα.

- Με την function handle_status($method) επιτρέπει την εμφάνιση του game status στον παίκτη.
